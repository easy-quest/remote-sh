(this.webpackJsonpmycra=this.webpackJsonpmycra||[]).push([[0],{18:function(n,e,t){"use strict";e.a={routerHistoryType:"hash",urlWebSocket:"",urlServer:window.location.origin}},35:function(n,e,t){"use strict";var c,i,o,a,r=t(38),s=t(3),l=t(36),u=t.n(l),h=t(7),b=t(8),f=t(9),d=(t(20),t(6)),k=(c=function(){function n(){Object(s.a)(this,n),Object(h.a)(this,"path",i,this)}return Object(b.a)(n,[{key:"setHistory",value:function(n){var e=this;this.history||(this.history=n,this.history.subscribe((function(n,t){e.path=n.pathname})))}},{key:"redirect",value:function(n){this.history&&this.history.push(n)}}]),n}(),i=Object(f.a)(c.prototype,"path",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"/"}}),c),v=t(18),y=t(37),p=t.n(y),g=(o=function(){function n(){Object(s.a)(this,n),this.callbacks=[],this.callbackBindIndex=0,Object(h.a)(this,"connected",a,this),this.connect(),this.bindTest()}return Object(b.a)(n,[{key:"connect",value:function(){var n=this,e=v.a.urlWebSocket;if(e){var t=p()(e);this.socket=t,t.on("connect",(function(){n.connected=!0,console.log("Websocket connected.")})),t.on("reconnect",(function(){n.connected=!0,console.log("Websocket reconnected."),n.update()})),t.on("message",(function(e,t){var c=e.type,i=e.data;n.callbacks.filter((function(n){return n.type===c})).forEach((function(n){return n.callback(i)})),t&&t()})),t.on("disconnect",(function(){n.connected=!1,n.socketId="",console.log("Websocket disconnected.")}))}}},{key:"bindEvent",value:function(n,e){var t=this;this.callbackBindIndex+=1;var c=this.callbackBindIndex;this.callbacks.push({id:c,type:n,callback:e});return function(){t.callbacks=t.callbacks.filter((function(n){return n.id!==c}))}}},{key:"bindTest",value:function(){this.bindEvent("test",(function(n){console.log("WebSocket test event recieved: ",n)}))}}]),n}(),a=Object(f.a)(o.prototype,"connected",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),o),w=function n(){Object(s.a)(this,n),this.event=new u.a,this.router=new k,this.webSocket=new g};w.init=function(){var n=w.singleInstance;if(!n){for(var e=arguments.length,t=new Array(e),c=0;c<e;c++)t[c]=arguments[c];w.singleInstance=Object(r.a)(w,t)}},w.getSingleInstance=function(){return w.singleInstance};e.a=w},39:function(n,e,t){n.exports=t(77)},44:function(n,e,t){},74:function(n,e){},77:function(n,e,t){"use strict";t.r(e);var c=t(1),i=t.n(c),o=t(17),a=t.n(o);t(44),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(35).a.init();var r=i.a.lazy((function(){return Promise.all([t.e(4),t.e(6)]).then(t.bind(null,261))}));a.a.render(i.a.createElement(i.a.Suspense,{fallback:null},i.a.createElement(r,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[39,1,3]]]);
//# sourceMappingURL=main.0f06287b.chunk.js.map