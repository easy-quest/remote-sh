{"version":3,"sources":["page/Home/Dashboard/logo96.png","page/Home/ModalLogin.js","page/Home/Dashboard/AppBar.js","page/Home/Dashboard/ModalEdit.js","page/Home/Dashboard/Script.js","page/Home/Dashboard/ScriptNew.js","page/Home/Dashboard/Dashboard.js","page/Home/index.js"],"names":["module","exports","FormDialog","open","handleSubmit","value","handleValueChange","Dialog","aria-labelledby","DialogTitle","id","DialogContent","DialogContentText","hidden","TextField","autoFocus","onChange","e","target","margin","label","fullWidth","DialogActions","Button","onClick","color","useStyles","makeStyles","theme","menuButton","marginRight","spacing","title","flexGrow","icon","width","height","ButtonAppBar","onResetAccessKey","classes","openHelp","useCallback","window","AppBar","position","Toolbar","IconButton","edge","className","aria-label","src","alt","Typography","variant","valueName","valueContent","handleValueNameChange","handleValueContentChange","handleCancel","onClose","disabled","multiline","rows","spellCheck","post","path","a","data","axios","configs","urlServer","then","res","name","ak","onNeedFetchList","useState","content","sign","setData","editContent","setEditContent","modalEditOpen","setModalEditOpen","running","setRunning","readScript","rel","useEffect","handleModalEditCancel","handleModalEditSubmit","error","toast","handleDelete","confirm","link","Card","Box","display","flexDirection","p","alignItems","Tooltip","arrow","size","fontSize","text","onCopy","success","m","border","borderRadius","overflow","style","whiteSpace","onNewScriptCreated","editName","setEditName","resetModal","cursor","justifyContent","onAkChanged","scripts","setScripts","fetchScripts","handleResetAccessKey","newAK","alert","bgcolor","Grid","container","item","xs","sm","md","lg","ScriptNew","map","t","key","Script","modalAkOpen","setModalAkOpen","setAK","logined","setLogined","handleModalAkSubmit","match","handleAkChanged","Dashboard"],"mappings":"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","file":"static/js/5.561a3e26.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAADTklEQVR4nO3cT0iTcRzH8c+zPz42VPIPudKQ0sprikjX6BIRRkRGKgkdhIESeOgQdAg6hCTMcIQEJsooE4sO0SG6VURERYeEDFKRZrGKqZtzj3s6VCJs5eaznu9jz+d1237Ps3153uz5MRgDiIiIiIiIiIjILpRsT3g98f4koPh1wPsvBtqsFCCUhN5ZV7tnLJvzHBt4K178NHTAq0Dpy/a8rAPw4v/V9mxP2MAngHLJZfQFkrqOj7MhzIW/A9DhLS1BVUU5HIqS0brdGQ4wNTuHmdCX1cfToc8AgF2V3ozW7c7wLSgU/pby3Kc1z623bnc52AP01BdVslm3N8MBvKUlKc9tKy3OeN3uDO8BVRXlAIBQ+CuAnxe8akd5xut2l/XN4NXEZOo9hVbtr63J6prye4AwBhDGAMIMb8LNp1tzMcemdTs4Yuh8fgKEMYAwBhDGAMIYQBgDCGMAYQwgjAGEMYAwBhDGAMIYQBgDCGMAYQwgjAGEiQWIBvqwUlMt9faWIRZAa2xANDiE2IXz0Evs+0Mt0VuQ7nQicfwY5sdHEW9vA/LckuOIsMYeUFiAeKcPC6NBJA4dlJ7GVNYI8EtyZyViVy4jOtCP5L690uOYQiyAx9cF5+SHtGtafR0WRgYRu3QRybIykyczl1gA1/MX8LS0I7+nF0okknqAw4HEkcNYvDuK5bPtZo9nGtFbkKJpyLt1BwVNJ6DeHAYSiZRjdM8WLPk6BKYzhyX2ACUyD/VaAAXNrXA/eiw9jqksEWAtXVWlRzCV4d+G5oJeVIjlM22It5wC3Pb6LiAaQHc6oTUdxZKvA3rx1rTHOKdnoPb6TZ7MPGIBtMYGxLvPYaV6d9p1JRZD3nAQ6uAQsJy6Of8vxAJEA3/4WwVdh/vBQ6j+fjjCYXOHEmCJPeA357sJqD29cL15u+6xkZfPcvreRfUHcvp6mbJEAEc4DPX6Dbjv3QeSSelxTCUaQNE0uMfGoQYGoCwuSo4iRiyA68lT5F/1wzE1LTWCJYgF8HR1Gzpf6p6da5b7Jmw3DCCMAYQxgDAGEMYAwhhAGAMIYwBhDCCMAYQxgDAGEMYAwhhAGAMIYwBh/OfcHOM/524yDCCMAYiIiIiIiIiIiEzyA97G0BQKex3zAAAAAElFTkSuQmCC\"","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nexport default function FormDialog({\n  open,\n  handleSubmit,\n  value,\n  handleValueChange,\n}) {\n  return (\n    <Dialog open={open} aria-labelledby=\"form-dialog-title\">\n      <DialogTitle id=\"form-dialog-title\">Authority Required</DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          Please enter the access key. The access key will been automatically\n          filled in if this is the first time you use the system.\n          <br />\n          <br />\n          You can find this key at your server (PATH_TO_REMOTE_SH/access_key) if\n          you forget.\n        </DialogContentText>\n        <input id=\"username\" hidden value=\"admin\" />\n        <TextField\n          value={value}\n          autoFocus\n          id=\"password\"\n          onChange={(e) => {\n            handleValueChange(e.target.value);\n          }}\n          margin=\"dense\"\n          label=\"Access Key\"\n          fullWidth\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleSubmit} color=\"primary\">\n          Submit\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import React, { useCallback } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport icon from './logo96.png';\n\nconst useStyles = makeStyles((theme) => ({\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n  icon: {\n    width: 36,\n    height: 36,\n  },\n}));\n\nexport default function ButtonAppBar({ onResetAccessKey }) {\n  const classes = useStyles();\n\n  const openHelp = useCallback(() => {\n    window.open(\n      'https://github.com/yuri2peter/remote-sh/blob/master/README.md'\n    );\n  }, []);\n\n  return (\n    <AppBar position=\"static\">\n      <Toolbar>\n        <IconButton\n          edge=\"start\"\n          className={classes.menuButton}\n          color=\"inherit\"\n          aria-label=\"menu\"\n        >\n          <img className={classes.icon} src={icon} alt=\"\" />\n        </IconButton>\n        <Typography variant=\"h6\" className={classes.title}>\n          Remote SH\n        </Typography>\n        <Button onClick={openHelp} color=\"inherit\">\n          Help\n        </Button>\n        <Button onClick={onResetAccessKey} color=\"inherit\">\n          Reset Access Key\n        </Button>\n      </Toolbar>\n    </AppBar>\n  );\n}\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nexport default function FormDialog({\n  open,\n  handleSubmit,\n  valueName,\n  valueContent,\n  handleValueNameChange,\n  handleValueContentChange,\n  handleCancel,\n}) {\n  return (\n    <Dialog\n      onClose={handleCancel}\n      open={open}\n      aria-labelledby=\"form-dialog-title\"\n    >\n      <DialogTitle id=\"form-dialog-title\">Edit Script</DialogTitle>\n      <DialogContent>\n        <TextField\n          disabled={!handleValueNameChange}\n          variant=\"outlined\"\n          value={valueName}\n          onChange={(e) => {\n            handleValueNameChange(e.target.value);\n          }}\n          margin=\"dense\"\n          label=\"Name\"\n          fullWidth\n        />\n        <TextField\n          variant=\"outlined\"\n          value={valueContent}\n          onChange={(e) => {\n            handleValueContentChange(e.target.value);\n          }}\n          multiline\n          rows={12}\n          margin=\"dense\"\n          label=\"Content\"\n          fullWidth\n          spellCheck={false}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleCancel}>Cancel</Button>\n        <Button onClick={handleSubmit} color=\"primary\">\n          Submit\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import React, { useCallback, useEffect, useState } from 'react';\nimport axios from 'axios';\nimport configs from 'src/configs';\nimport { Box, Card, IconButton, Tooltip } from '@material-ui/core';\nimport IconPlay from '@material-ui/icons/PlayArrow';\nimport IconLink from '@material-ui/icons/Link';\nimport IconEdit from '@material-ui/icons/Edit';\nimport IconCode from '@material-ui/icons/Code';\nimport IconDelete from '@material-ui/icons/Delete';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport { toast } from 'react-toastify';\nimport ModalEdit from './ModalEdit';\n\nconst post = async (path, data = {}) => {\n  return axios\n    .post(`${configs.urlServer}${path}`, data)\n    .then((res) => res.data);\n};\n\nexport default ({ name, ak, onNeedFetchList }) => {\n  const [data, setData] = useState({\n    content: '',\n    sign: '',\n  });\n  const [editContent, setEditContent] = useState('');\n  const [modalEditOpen, setModalEditOpen] = useState(false);\n  const [running, setRunning] = useState(false);\n  const readScript = useCallback(() => {\n    post('/script/read', {\n      ak,\n      name,\n    }).then((rel) => {\n      setData(rel);\n      setEditContent(rel.content);\n    });\n  }, [ak, name]);\n  useEffect(() => {\n    readScript();\n  }, [readScript]);\n  const handleModalEditCancel = useCallback(() => {\n    setEditContent(data.content);\n    setModalEditOpen(false);\n  }, [data.content]);\n  const handleModalEditSubmit = useCallback(() => {\n    post('/script/write', {\n      ak,\n      name,\n      content: editContent,\n    }).then((rel) => {\n      if (rel.error) {\n        toast.error(rel.error);\n      } else {\n        readScript();\n      }\n      setModalEditOpen(false);\n    });\n  }, [ak, editContent, name, readScript]);\n  const handleDelete = useCallback(() => {\n    if (\n      window.confirm(\n        `[Dangerous Operation] Are you sure to delete this file [${name}]?`\n      )\n    ) {\n      post('/script/remove', {\n        ak,\n        name,\n      }).then((rel) => {\n        onNeedFetchList();\n      });\n    }\n  }, [ak, name, onNeedFetchList]);\n  const link = `${configs.urlServer}/script/run/${name}/${data.sign}`;\n  return (\n    <Card>\n      <Box display=\"flex\" height={328} flexDirection=\"column\" p={1}>\n        <Box display=\"flex\" alignItems=\"center\">\n          <Box flexGrow={1}>{name}</Box>\n          <Box>\n            {running ? (\n              <Tooltip title=\"back to code preview\" arrow>\n                <IconButton\n                  size=\"small\"\n                  onClick={() => {\n                    setRunning(false);\n                  }}\n                >\n                  <IconCode fontSize=\"small\" />\n                </IconButton>\n              </Tooltip>\n            ) : (\n              <Tooltip title=\"run\" arrow>\n                <IconButton\n                  size=\"small\"\n                  onClick={() => {\n                    setRunning(true);\n                  }}\n                >\n                  <IconPlay fontSize=\"small\" />\n                </IconButton>\n              </Tooltip>\n            )}\n            <Tooltip title=\"copy trigger URL\" arrow>\n              <CopyToClipboard\n                text={link}\n                onCopy={() => toast.success('Trigger URL Copied!')}\n              >\n                <IconButton size=\"small\">\n                  <IconLink fontSize=\"small\" />\n                </IconButton>\n              </CopyToClipboard>\n            </Tooltip>\n            <Tooltip title=\"edit\" arrow>\n              <IconButton\n                disabled={running}\n                size=\"small\"\n                onClick={() => setModalEditOpen(true)}\n              >\n                <IconEdit fontSize=\"small\" />\n              </IconButton>\n            </Tooltip>\n            <Tooltip title=\"delete\" arrow>\n              <IconButton\n                disabled={running}\n                size=\"small\"\n                onClick={handleDelete}\n              >\n                <IconDelete fontSize=\"small\" />\n              </IconButton>\n            </Tooltip>\n          </Box>\n        </Box>\n        <Box\n          m={1}\n          border=\"1px solid #dcdcdc\"\n          flexGrow={1}\n          p={1}\n          fontSize={12}\n          color=\"gray\"\n          borderRadius={4}\n          overflow=\"auto\"\n        >\n          {running ? (\n            <iframe\n              style={{\n                border: 'none',\n                width: '100%',\n                height: 'calc(100% - 4px)',\n              }}\n              src={link}\n              title={`Running ${name}`}\n            />\n          ) : (\n            <code style={{ whiteSpace: 'break-spaces' }}>{data.content}</code>\n          )}\n        </Box>\n      </Box>\n      <ModalEdit\n        open={modalEditOpen}\n        valueName={name}\n        valueContent={editContent}\n        handleValueContentChange={setEditContent}\n        handleSubmit={handleModalEditSubmit}\n        handleCancel={handleModalEditCancel}\n      />\n    </Card>\n  );\n};\n","import React, { useCallback, useState } from 'react';\nimport axios from 'axios';\nimport configs from 'src/configs';\nimport { Box, Card } from '@material-ui/core';\nimport IconAdd from '@material-ui/icons/Add';\nimport { toast } from 'react-toastify';\nimport ModalEdit from './ModalEdit';\n\nconst post = async (path, data = {}) => {\n  return axios\n    .post(`${configs.urlServer}${path}`, data)\n    .then((res) => res.data);\n};\n\nexport default ({ ak, onNewScriptCreated }) => {\n  const [editName, setEditName] = useState('new.sh');\n  const [editContent, setEditContent] = useState('#!/bin/sh\\n\\n');\n  const [modalEditOpen, setModalEditOpen] = useState(false);\n  const resetModal = useCallback(() => {\n    setEditName('new.sh');\n    setEditContent('#!/bin/sh\\n\\n');\n    setModalEditOpen(false);\n  }, []);\n  const handleModalEditSubmit = useCallback(() => {\n    post('/script/write', {\n      ak,\n      name: editName,\n      content: editContent,\n    }).then((rel) => {\n      if (rel.error) {\n        toast.error(rel.error);\n      } else {\n        onNewScriptCreated();\n      }\n      resetModal();\n    });\n  }, [ak, editContent, editName, onNewScriptCreated, resetModal]);\n  return (\n    <Card>\n      <Box height={312} p={2}>\n        <Box\n          onClick={() => setModalEditOpen(true)}\n          style={{ cursor: 'pointer' }}\n          display=\"flex\"\n          alignItems=\"center\"\n          fontSize={86}\n          justifyContent=\"center\"\n          height=\"100%\"\n          border=\"1px dashed #dcdcdc\"\n          borderRadius={4}\n        >\n          <IconAdd color=\"action\" fontSize=\"inherit\" />\n        </Box>\n      </Box>\n      <ModalEdit\n        open={modalEditOpen}\n        valueName={editName}\n        valueContent={editContent}\n        handleValueNameChange={setEditName}\n        handleValueContentChange={setEditContent}\n        handleSubmit={handleModalEditSubmit}\n        handleCancel={resetModal}\n      />\n    </Card>\n  );\n};\n","import React, { useCallback, useEffect, useState } from 'react';\nimport axios from 'axios';\nimport configs from 'src/configs';\nimport { Box, Grid } from '@material-ui/core';\nimport AppBar from './AppBar';\nimport Script from './Script';\nimport ScriptNew from './ScriptNew';\n\nconst post = async (path, data = {}) => {\n  return axios\n    .post(`${configs.urlServer}${path}`, data)\n    .then((res) => res.data);\n};\n\nexport default ({ ak, onAkChanged }) => {\n  const [scripts, setScripts] = useState([]);\n  const fetchScripts = useCallback(() => {\n    post('/script/list', {\n      ak,\n    }).then(setScripts);\n  }, [ak]);\n  const handleResetAccessKey = useCallback(() => {\n    if (\n      window.confirm(\n        // eslint-disable-next-line max-len\n        '[Dangerous Operation] Are you sure to reset the access key? The previous trigger URL and access key will be disabled.'\n      )\n    ) {\n      post('/ak/reset', {\n        ak,\n      }).then(({ newAK, error }) => {\n        if (error) {\n          alert(error);\n        } else {\n          alert('Access key has been reset.');\n          onAkChanged(newAK);\n        }\n      });\n    }\n  }, [ak, onAkChanged]);\n  useEffect(() => {\n    fetchScripts();\n  }, [fetchScripts]);\n  return (\n    <Box height=\"100vh\" display=\"flex\" flexDirection=\"column\">\n      <AppBar onResetAccessKey={handleResetAccessKey} />\n      <Box flexGrow={1} p={2} bgcolor={'#f5f5f5'}>\n        <Grid container spacing={2}>\n          <Grid item xs={12} sm={6} md={3} lg={2}>\n            <ScriptNew ak={ak} onNewScriptCreated={fetchScripts} />\n          </Grid>\n          {scripts.map((t) => (\n            <Grid key={t} item xs={12} sm={6} md={3} lg={2}>\n              <Script ak={ak} name={t} onNeedFetchList={fetchScripts} />\n            </Grid>\n          ))}\n        </Grid>\n      </Box>\n    </Box>\n  );\n};\n","import React, { useCallback, useEffect, useState } from 'react';\nimport axios from 'axios';\nimport configs from 'src/configs';\nimport ModalAk from './ModalLogin';\nimport { Box } from '@material-ui/core';\nimport Dashboard from './Dashboard/Dashboard';\nimport { toast } from 'react-toastify';\n\nconst post = async (path, data = {}) => {\n  return axios\n    .post(`${configs.urlServer}${path}`, data)\n    .then((res) => res.data);\n};\n\nexport default () => {\n  const [modalAkOpen, setModalAkOpen] = useState(false);\n  const [ak, setAK] = useState('');\n  const [logined, setLogined] = useState(false);\n  useEffect(() => {\n    // 初始化，检查AK是否为空\n    post('/ak/reset').then((rel) => {\n      if (!rel.error) {\n        // newAK\n        setAK(rel.newAK);\n      }\n      setModalAkOpen(true);\n    });\n  }, []);\n  const handleModalAkSubmit = useCallback(() => {\n    post('/ak/verify', { ak }).then((rel) => {\n      if (rel.match) {\n        setLogined(true);\n        setModalAkOpen(false);\n      } else {\n        toast.error(rel.error || 'Invalid access key.', {\n          position: 'top-center',\n        });\n      }\n    });\n  }, [ak]);\n  const handleAkChanged = useCallback((newAK) => {\n    setLogined(false);\n    setAK(newAK);\n    setModalAkOpen(true);\n  }, []);\n  return (\n    <Box>\n      <ModalAk\n        open={modalAkOpen}\n        value={ak}\n        handleValueChange={setAK}\n        handleSubmit={handleModalAkSubmit}\n      />\n      {logined && <Dashboard ak={ak} onAkChanged={handleAkChanged} />}\n    </Box>\n  );\n};\n"],"sourceRoot":""}